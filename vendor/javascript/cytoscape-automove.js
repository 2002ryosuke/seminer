var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var n={};(function webpackUniversalModuleDefinition(e,r){n=r()})(0,(function(){return function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:false,exports:{}};e[r].call(t.exports,t,t.exports,__webpack_require__);t.l=true;return t.exports}__webpack_require__.m=e;__webpack_require__.c=n;__webpack_require__.i=function(e){return e};__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{configurable:false,enumerable:true,get:r})};__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};__webpack_require__.d(n,"a",n);return n};__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)}([function(n,r,t){var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=t(2);var a=o("");var u=o({});var s=o((function(){}));var c=function isObject(e){return("undefined"===typeof e?"undefined":o(e))===u};var f=function isString(e){return("undefined"===typeof e?"undefined":o(e))===a};var d=function isFunction(e){return("undefined"===typeof e?"undefined":o(e))===s};var v=function isCollection(e){return c(e)&&d(e.collection)};var l=t(1);var p=function eleExists(e){return null!=e&&!e.removed()};var g=function elesHasEle(e,n){g=void 0!=e.has?function elesHasEle(e,n){return e.has(n)}:function elesHasEle(e,n){return e.intersection(n).length>0};return g(e,n)};var b=function getEleMatchesSpecFn(e){if(f(e))return function(n){return n.is(e)};if(d(e))return e;if(v(e))return function(n){return g(e,n)};throw new Error("Can not create match function for spec",e)};var y=function bind(e,n,r,t){var o={cy:e,events:n,selector:r||"node",fn:t};e.on(o.events,o.selector,o.fn);return o};var h=function bindOnRule(e,n,r,t,o){var i=y(n,r,t,o);var a=e.bindings=e.bindings||[];a.push(i)};var _=function unbindAllOnRule(e){var n=function unbind(e){e.cy.off(e.events,e.selector,e.fn)};e.bindings.forEach(n);e.bindings=[]};var m=function getRepositioner(e,n){var r=e.reposition;return"mean"===r?w(b(e.meanIgnores)):"viewport"===r?M(n):"drag"===r?x(e):c(r)?void 0==r.type||"inside"==r.type?O(r):"outside"==r.type?E(r):void 0:r};var x=function dragAlong(e){return function(n){var r=n.position();var t=e.delta;if(null!=e.delta&&!n.same(e.grabbedNode)&&!n.grabbed())return{x:r.x+t.x,y:r.y+t.y}}};var w=function meanNeighborhoodPosition(e){return function(n){var r=n.neighborhood();var t={x:0,y:0};var o=0;for(var i=0;i<r.length;i++){var a=r[i];if(a.isNode()&&!e(a)){var u=a.position();t.x+=u.x;t.y+=u.y;o++}}if(!(o<2)){t.x/=o;t.y/=o;return t}}};var N=function constrain(e,n,r){return e<n?n:e>r?r:e};var k=function constrainInBox(e,n){var r=e.position();return{x:N(r.x,n.x1,n.x2),y:N(r.y,n.y1,n.y2)}};var O=function boxPosition(e){return function(n){return k(n,e)}};var q=function constrainOutsideBox(e,n){var r=e.position();var t=r.x,o=r.y;var i=n.x1,a=n.y1,u=n.x2,s=n.y2;var c=i<=t&&t<=u;var f=a<=o&&o<=s;var d=Math.abs;if(c&&f){var v=d(i-t);var l=d(u-t);var p=d(a-o);var g=d(s-o);var b=Math.min(v,l,p,g);return b===v?{x:i,y:o}:b===l?{x:u,y:o}:b===p?{x:t,y:a}:{x:t,y:s}}return{x:t,y:o}};var E=function outsideBoxPosition(e){return function(n){return q(n,e)}};var M=function viewportPosition(e){return function(n){var r=e.extent();var t=n.outerWidth();var o=n.outerHeight();var i={x1:r.x1+t/2,x2:r.x2-t/2,y1:r.y1+o/2,y2:r.y2-o/2};return k(n,i)}};var P=function meanListener(n){return function(r,t){var o=function matches(e){return n.matches(e)&&e.neighborhood().length>2&&!e.grabbed()};h(n,t,"position","node",(function(){var i=this||e;(i.neighborhood().some(o)||n.meanOnSelfPosition(i)&&o(i))&&r(t,[n])}));h(n,t,"add remove","edge",(function(){var i=this||e;var a=t.getElementById(i.data("source"));var u=t.getElementById(i.data("target"));[a,u].some(o)&&r(t,[n])}))}};var S=function dragListener(n){return function(r,t){h(n,t,"grab","node",(function(){var r=this||e;if(n.dragWithMatches(r)){var t=r.position();n.grabbedNode=r;n.p1={x:t.x,y:t.y};n.delta={x:0,y:0}}}));h(n,t,"drag","node",(function(){var o=this||e;if(o.same(n.grabbedNode)){var i=n.delta;var a=n.p1;var u=o.position();var s={x:u.x,y:u.y};i.x=s.x-a.x;i.y=s.y-a.y;n.p1=s;r(t,[n])}}));h(n,t,"free","node",(function(){n.grabbedNode=null;n.delta=null;n.p1=null}))}};var L=function matchingNodesListener(n){return function(r,t){h(n,t,"position","node",(function(){var o=this||e;n.matches(o)&&r(t,[n])}))}};var j=function getListener(e,n){return"mean"===n.reposition?P(n):"drag"===n.reposition?S(n):c(n.reposition)||"matching"===n.when||"viewport"===n.reposition?L(n):n.when};var A=function addRule(e,n,r){var t=l({},i,r);t.getNewPos=m(t,e);t.listener=j(e,t);var o=v(t.nodesMatching);if(o){t.nodes=t.nodesMatching.slice();t.matches=function(e){return p(e)&&g(t.nodes,e)}}else{var a=b(t.nodesMatching);t.matches=function(e){return p(e)&&a(e)}}null!=t.dragWith&&(t.dragWithMatches=b(t.dragWith));t.listener((function(){I(e,[t])}),e);t.enabled=true;n.rules.push(t);return t};var R=function bindForNodeList(e,n){n.onAddNode=function(e){var r=e.target;n.nodes.merge(r)};n.onRmNode=function(e){var r=e.target;n.nodes.unmerge(r)};e.on("add","node",n.onAddNode);e.on("remove","node",n.onRmNode)};var W=function unbindForNodeList(e,n){e.removeListener("add","node",n.onAddNode);e.removeListener("remove","node",n.onRmNode)};var I=function update(e,n){var r=e.scratch().automove;n=null!=n?n:r.rules;e.batch((function(){for(var e=0;e<n.length;e++){var t=n[e];if(t.destroyed||!t.enabled)break;var o=t.nodes||r.nodes;for(var i=o.length-1;i>=0;i--){var a=o[i];if(a.removed())o.unmerge(a);else if(t.matches(a)){var u=a.position();var s=t.getNewPos(a);var c=null!=s&&(u.x!==s.x||u.y!==s.y);if(c){a.position(s);a.trigger("automove",[t])}}}}}))};var B=function automove(n){var r=this||e;var t=r.scratch().automove=r.scratch().automove||{rules:[]};if(0===t.rules.length){t.nodes=r.nodes().slice();R(r,t)}if("destroy"!==n){var o=A(r,t,n);I(r,[o]);return{apply:function apply(){I(r,[o])},disable:function disable(){this.toggle(false)},enable:function enable(){this.toggle(true)},enabled:function enabled(){return o.enabled},toggle:function toggle(e){o.enabled=void 0!==e?e:!o.enabled;o.enabled&&I(r,[o])},destroy:function destroy(){var n=t.rules;_(o);o.destroyed=true;n.splice(n.indexOf(o),1);0===n.length&&W(r,t);return this||e}}}t.rules.forEach((function(e){_(e);e.destroyed=true}));t.rules.splice(0,t.rules.length);W(r,t)};n.exports=B},function(e,n,r){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];r.forEach((function(n){Object.keys(n).forEach((function(r){return e[r]=n[r]}))}));return e}},function(e,n,r){var t={nodesMatching:function nodesMatching(e){return false},reposition:"mean",when:void 0,meanIgnores:function meanIgnores(e){return false},meanOnSelfPosition:function meanOnSelfPosition(e){return true},dragWith:function dragWith(e){return false}};e.exports=t},function(e,n,r){var t=r(0);var o=function register(e){e&&e("core","automove",t)};"undefined"!==typeof cytoscape&&o(cytoscape);e.exports=o}])}));var r=n;const t=n.cytoscapeAutomove;export{t as cytoscapeAutomove,r as default};

